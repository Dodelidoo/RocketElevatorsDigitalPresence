if (self.CavalryLogger) { CavalryLogger.start_js(["\/QVyu"]); }

__d("WebMessengerConfirmBlockDialog",["fbt","React","SimpleXUIDialog","XUIDialogButton.react"],(function(a,b,c,d,e,f,g){"use strict";a={show:function(a){a=a&&a.length>0?g._("Vous avez bloqu\u00e9 {name}",[g._param("name",a)]):g._("Vous avez bloqu\u00e9 l\u2019exp\u00e9diteur");var c=g._("Vous pouvez acc\u00e9dez aux messages que vous avez bloqu\u00e9s en vous rendant sur la liste des messages filtr\u00e9s."),d=b("React").createElement("div",null,b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:g._("OK"),use:"confirm"}));b("SimpleXUIDialog").showEx(c,a,d)}};e.exports=a}),null);
__d("WebMessengerDeclineMRDialog",["fbt","MessengerParticipants.bs","React","SimpleXUIDialog","MercuryThreadActions","XUIDialogButton.react","XUIDialogCancelButton.react","MercuryIDs","MessengerMessageRequestsTypedLogger","WebMessengerConfirmBlockDialog","FantaTabActions","MessagingTag","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MercuryThreadActions").get();a={show:function(a,c,d,e){__p&&__p();var f=function(a){b("WebMessengerConfirmBlockDialog").show(a);a=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,b("CurrentUser").getID());b("FantaTabActions").closeTab(c);h.changeFolder(c,b("MessagingTag").OTHER);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(b("MessagingTag").PENDING).setThreadKey(a).setEntryPoint(null).log()},i=e?b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:g._("Ignorer"),use:"confirm",onClick:function(d){a===b("MessagingTag").OTHER?(h["delete"](c),b("FantaTabActions").closeTab(c)):h.ignoreMessages(b("MercuryIDs").getThreadFBIDFromThreadID(c))}}):b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:g._("Bloquer"),use:"confirm",onClick:function(){h.blockMessages(c,f)}}),j=b("CurrentUser").isWorkUser(),k=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromFromThreadID(c));k=k==null?void 0:k.short_name;var l=!e&&!j&&k?g._("Vous ne voulez pas \u00eatre en contact avec {name}?",[g._param("name",k)]):g._("Ne pas accepter la conversation");e?e=g._("La demande sera refus\u00e9e. Voulez-vous supprimer les messages de ce groupe?"):k?e=j?g._("L\u2019invitation par message sera refus\u00e9e. Souhaitez-vous bloquer {name} sur Workplace Chat ou supprimer ces messages?",[g._param("name",k)]):g._("Vous pouvez supprimer d\u00e9finitivement la conversation, bloquer {name} pour l\u2019emp\u00eacher de vous envoyer des messages ou nous signaler un probl\u00e8me. Nous n\u2019informerons pas {name} de vos actions.",[g._param("name",k)]):e=g._({"Workplace chat":"L\u2019invitation par message sera refus\u00e9e. Souhaitez-vous bloquer cette personne sur Workplace Chat ou supprimer ces messages?","Messenger":"L\u2019invitation par message sera refus\u00e9e. Souhaitez-vous bloquer cette personne sur Messenger ou supprimer ces messages?"},[g._enum(j?"Workplace chat":"Messenger",{"Workplace chat":"Workplace chat",Messenger:"Messenger"})]);k=b("CurrentUser").getID();var m=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,k);j=function(a){a==="hide"&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(b("MessagingTag").PENDING).setThreadKey(m).setEntryPoint(null).log()};k=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:g._("Supprimer"),use:"confirm",onClick:function(){h["delete"](c),d&&d(),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(b("MessagingTag").PENDING).setThreadKey(m).setEntryPoint(null).log()}}),i);b("SimpleXUIDialog").showEx(e,l,k,j,{})}};e.exports=a}),null);
__d("MessagesJewelInlineThumbnail.react",["cx","MercuryAttachmentType","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.$1();if(a.length===0)return b("React").createElement("span",null);var c=a[0].thumbnail_url;if(!c)return b("React").createElement("span",null);c=b("React").createElement("span",{className:"_56hv"},b("React").createElement("i",{style:{backgroundImage:"url("+c+")"}}));a.length>1&&(c=b("React").createElement("span",null,b("React").createElement("span",{className:"_56hy"}),c));return c};a.prototype.$1=function(){var a=this.props.thread;return!a.snippet_attachments?[]:a.snippet_attachments.filter(function(a){return a.attach_type===b("MercuryAttachmentType").PHOTO})};function a(){h.apply(this,arguments)}a.propTypes={thread:c.object.isRequired};e.exports=a}),null);
__d("MercuryPresenceIndicator.react",["cx","fbt","Arbiter","AvailableListConstants","MercuryIDs","PresenceStatus","React","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(){if(!b("MercuryIDs").isCanonical(this.props.threadID))return null;else{var a=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);return b("PresenceStatus").get(a)}}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Arbiter").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return this.forceUpdate()}.bind(this)))};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.release()};a.prototype.render=function(){var a=this.$2();return b("React").createElement("span",{className:this.$3(a)},b("React").createElement("span",{className:"accessible_elem"},this.$4(a)))};a.prototype.$3=function(a){return"presenceIndicator"+(b("MercuryIDs").isGroupChat(this.props.threadID)?" groupThread":"")+(a==b("AvailableListConstants").ACTIVE?" presenceActive":"")};a.prototype.$4=function(a){switch(a){case b("AvailableListConstants").ACTIVE:return h._("Actif");default:return null}};a.propTypes={threadID:c.string.isRequired};e.exports=a}),null);
__d("MercurySeenIndicator.react",["cx","MercuryIDs","MessengerReadReceipt.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);a=this.$1(a);return b("React").createElement("span",{className:"_3jy5"+(a?" repliedLast":"")+(a&&this.$2()?" seenByAll":"")})};a.prototype.$1=function(a){return a===this.props.thread.snippet_sender};a.prototype.$2=function(){return b("MessengerReadReceipt.bs").wasSeenByAll(this.props.readReceipts,{thread_id:this.props.thread.thread_id,author:this.props.thread.snippet_sender,timestamp:this.props.thread.timestamp})};function a(){h.apply(this,arguments)}a.propTypes={thread:c.object.isRequired,viewer:c.string.isRequired};e.exports=a}),null);
__d("MercuryThreadPermalink.react",["Link.react","React","WebMessengerThreadPermalinks"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={permalinkURI:"#"},b}a.prototype.componentDidMount=function(){this.$1(this.props)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){(a.threadID!==this.props.threadID||a.folder!==this.props.folder)&&this.$1(a)};a.prototype.render=function(){return b("React").createElement(b("Link.react"),{className:this.props.className,href:this.state.permalinkURI,onClick:this.props.onClick,role:"button"},this.props.children)};a.prototype.$1=function(a){this.setState({permalinkURI:"#"}),b("WebMessengerThreadPermalinks").getThreadURI(a.threadID,function(a){return this.setState({permalinkURI:a})}.bind(this),a.folder)};a.propTypes={className:c.string,children:c.any,threadID:c.string.isRequired,viewer:c.string.isRequired,folder:c.string,onClick:c.func};e.exports=a}),null);
__d("MercuryThreadReadToggle.react",["fbt","invariant","MercuryThreadActions","React","ReadToggle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a&&(a.preventDefault(),a.stopPropagation());a=b("MercuryThreadActions").getForFBID(this.props.viewer);this.props.unreadCount>0?a.markRead(this.props.threadID):a.markUnread(this.props.threadID)}.bind(this),c}a.prototype.render=function(){this.props.unreadCount>=0||h(0,6253);return b("React").createElement(b("ReadToggle.react"),{isRead:this.props.unreadCount===0,onClick:this.$1,readLabel:g._("Marquer comme non lu(s)"),unreadLabel:g._("Marquer comme lu")})};a.propTypes={threadID:c.string.isRequired,viewer:c.string.isRequired,unreadCount:c.number.isRequired};e.exports=a}),null);
__d("MessengerPlayGameCallToActionHelper",["URI"],(function(a,b,c,d,e,f){__p&&__p();e.exports={parseMetadata:function(a){var b,c,d;d=(d=a)!=null?d.instantgame_gameid:d;if(!d)return null;c=(c=a)!=null?c.instantgame_payload:c;b=(b=a)!=null?b.instantgame_context_type:b;a=(a=a)!=null?a.instantgame_context_id:a;return{contextSourceID:a,contextType:b,gameID:d,payload:c}},parseActionLink:function(a){a=new(b("URI"))(a).getQueryData();if(!a)return null;var c=a.game_id;if(!c)return null;var d=a.payload,e=a.context_type,f=a.context_id;a=(a=a)!=null?a.source:a;return{contextSourceID:f,contextType:e,gameID:c,payload:d,source:a}}}}),null);
__d("MessagesJewelGameButtonContainer.react",["InstantNativeGames","JSResource","MessengerPlayGameCallToActionHelper","Placeholder.react","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("lazyLoadComponent")(b("JSResource")("MessagesJewelGameButton.react").__setRef("MessagesJewelGameButtonContainer.react"));g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){__p&&__p();var a;a=(a=this.props.thread)!=null?a.game_id:a;if(a===null){var c,d;d=(d=this.props.thread)!=null?(d=d.snippet_attachments)!=null?(d=d[0])!=null?(d=d.share)!=null?(d=d.messenger_ctas)!=null?(d=d[0])!=null?d.action_url:d:d:d:d:d:d;d=d?d:(c=this.props.thread)!=null?(c=c.snippet_attachments)!=null?(c=c[0])!=null?(c=c.share)!=null?(c=c.target)!=null?(c=c.call_to_actions)!=null?(c=c[0])!=null?c.action_link:c:c:c:c:c:c:c;c=d?d:"";d=b("MessengerPlayGameCallToActionHelper").parseActionLink(c);a=(c=d)!=null?c.gameID:c}return!a||a===b("InstantNativeGames").SOCCER.toString()||a===b("InstantNativeGames").BASKETBALL.toString()?null:b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(h,{thread:this.props.thread,gameID:a}))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("MessagesJewelThreadListRow.react",["ix","cx","fbt","Promise","Bootloader","CurrentUser","ErrorBoundary.react","Image.react","ImageBlock.react","ImmutableObject","MercuryIDs","MercuryPresenceIndicator.react","MercurySeenIndicator.react","MercuryThreadActions","MercuryThreadPermalink.react","MercuryThreadReadToggle.react","MercuryThreadSnippet.react","MercuryThreadTimestampReact.bs","MercuryThreadTitleSafe.react","MercuryTimestamp","MessageRequestUtils","MessagesJewelGameButtonContainer.react","MessagesJewelInlineThumbnail.react","MessagingTag","MessengerThreadImageReact.bs","MNAdsMessageRequestUtils","React","RTCCallState","UserAgent","WebMessengerDeclineMRDialog","XUIButton.react","asset","gkx","immutable","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MercuryThreadTimestampReact.bs").jsComponent,l=b("MessengerThreadImageReact.bs").jsComponent;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$13=function(){b("MercuryThreadActions").get()["delete"](this.props.thread.thread_id)}.bind(this),this.$14=function(){b("MercuryThreadActions").get().archive(this.props.thread.thread_id)}.bind(this),this.$16=function(a){__p&&__p();a.preventDefault();a.stopPropagation();a=window.callWindow&&!window.callWindow.closed&&window.callWindow.focus;if(a)window.callWindow.focus();else{a=this.props.thread;var c=a.rtc_call_data,d=a.thread_fbid;b("Bootloader").loadModules(["FBRTCCore","FBRTCLogger"],function(a,e){e=e.Trigger;a.startGroupCall({conferenceName:"GROUP:"+d,hasVideo:c.call_state===b("RTCCallState").VIDEO_GROUP_CALL,serverInfoData:c.server_info_data,trigger:e.MULTIWAY_THREAD_LIST_JOIN_CALL_BUTTON})},"MessagesJewelThreadListRow.react")}}.bind(this),c}a.prototype.render=function(){var a=this.props.isDoNotDisturb&&b("CurrentUser").isWorkUser()&&b("gkx")("678573")?this.$2():this.$3();a=b("UserAgent").isBrowser("Chrome")&&!b("UserAgent").isPlatform("Windows")?b("React").createElement("div",{className:"author fixemoji"},this.$4(),a):b("React").createElement("div",{className:"author"},b("React").createElement("strong",null,this.$4()),a);a=b("React").createElement(b("ImageBlock.react"),{spacing:"none"},b("React").createElement("div",{className:"_p32"},this.$5()),b("React").createElement("div",{className:"content"},a,b("React").createElement("div",{className:"_1iji"},b("React").createElement("div",{className:"_1ijj"},this.$6(),this.$7()),b("React").createElement("div",null,this.$8())),b("React").createElement("div",{className:"time"},b("MNAdsMessageRequestUtils").isAdsMessageRequest(this.props.thread)?b("MNAdsMessageRequestUtils").renderAdsMessageRequestStatus():this.$9()),this.$10()),b("React").createElement("div",null,b("React").createElement(b("MessagesJewelInlineThumbnail.react"),{thread:this.props.thread}),b("React").createElement("div",{className:"x_div"},this.$11())));return b("React").createElement("li",{className:this.props.thread.unread_count>0?"jewelItemNew":""},b("React").createElement(b("MercuryThreadPermalink.react"),{className:"messagesContent",threadID:this.props.thread.thread_id,viewer:this.props.viewer,folder:this.props.thread.folder,onClick:this.props.onClick},a))};a.prototype.$8=function(){__p&&__p();if(!b("MessageRequestUtils").shouldShowThreadlistPendingActions(this.props.thread))return null;var a=b("CurrentUser").getID(),c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.thread.thread_id,a);return b("React").createElement("div",{className:"_zjy"},b("React").createElement(b("XUIButton.react"),{use:"confirm",onClick:function(a){a.preventDefault(),b("MercuryThreadActions").get().changeFolder(this.props.thread.thread_id,b("MessagingTag").INBOX),b("promiseDone")(this.$12(),function(a){a.setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.thread.thread_id)).setThreadKey(c).log()}.bind(this))}.bind(this),label:i._("Accepter")}),b("React").createElement(b("XUIButton.react"),{onClick:function(a){a.preventDefault();var d=b("MercuryIDs").isGroupChat(this.props.thread.thread_id);b("WebMessengerDeclineMRDialog").show(this.props.thread.folder,this.props.thread.thread_id,this.$13,d);a.stopPropagation();b("promiseDone")(this.$12(),function(a){a.setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.thread.thread_id)).setThreadKey(c).log()}.bind(this))}.bind(this),use:"default",label:i._("Refuser")}))};a.prototype.$2=function(){return b("React").createElement(b("Image.react"),{className:"_3-9a",src:g("550341")})};a.prototype.$3=function(){return!this.props.showPresence?null:b("React").createElement(b("MercuryPresenceIndicator.react"),{threadID:this.props.thread.thread_id})};a.prototype.$5=function(a){return b("React").createElement(l,{size:48,thread:this.props.thread,useBackground:!0,viewer:this.props.viewer,participants:this.props.participants})};a.prototype.$4=function(){return b("React").createElement(b("MercuryThreadTitleSafe.react"),{thread:this.props.thread,viewer:this.props.viewer,showUnreadCount:!0})};a.prototype.$7=function(){return b("React").createElement(b("MercuryThreadSnippet.react"),{participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer})};a.prototype.$9=function(){return b("React").createElement(k,{time:this.props.thread.timestamp,title:b("MercuryTimestamp").getAbsoluteTimestamp(this.props.thread.timestamp),text:b("MercuryTimestamp").getRelativeTimestamp(this.props.thread.timestamp)})};a.prototype.$6=function(){return b("React").createElement(b("MercurySeenIndicator.react"),{thread:this.props.thread,viewer:this.props.viewer,readReceipts:this.props.readReceipts})};a.prototype.$11=function(){return b("React").createElement(b("MercuryThreadReadToggle.react"),{threadID:this.props.thread.thread_id,viewer:this.props.viewer,unreadCount:this.props.thread.unread_count})};a.prototype.$10=function(){var a=this.$15();return!a&&this.props.thread.folder!==b("MessagingTag").PENDING?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("MessagesJewelGameButtonContainer.react"),{thread:this.props.thread})):a};a.prototype.$15=function(){if(!this.props.thread.rtc_call_data||this.props.thread.rtc_call_data.call_state===b("RTCCallState").NO_ONGOING_CALL)return null;var a=window.callWindow&&!window.callWindow.closed?i._("Revenir \u00e0 l\u2019appel"):i._("Rejoindre l\u2019appel");return b("React").createElement(b("XUIButton.react"),{className:"_4oci",label:a,onClick:this.$16})};a.prototype.$12=function(){this.$1||(this.$1=new(b("Promise"))(function(a,c){b("Bootloader").loadModules(["MessengerMessageRequestsTypedLogger"],function(b){b=new b();b.setSurface("inbox").setFolderType("pending").setEntryPoint("inbox_banner");a(b)},"MessagesJewelThreadListRow.react")}));return this.$1};a.propTypes={onClick:c.func,participants:c.instanceOf(b("immutable").Map).isRequired,showPresence:c.bool,isDoNotDisturb:c.bool,thread:c.instanceOf(b("ImmutableObject")).isRequired,viewer:c.string.isRequired};e.exports=a}),null);